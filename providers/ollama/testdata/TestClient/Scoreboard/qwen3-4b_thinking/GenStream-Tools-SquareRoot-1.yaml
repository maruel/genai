---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 550
        host: localhost
        body: |
            {"model":"qwen3:4b","messages":[{"role":"user","content":"Use the square_root tool to calculate the square root of 132413 and reply with only the result. Do not give an explanation."},{"role":"user","content":"\n\n/think"}],"stream":true,"tools":[{"type":"function","function":{"description":"Calculates and return the square root of a number","name":"square_root","parameters":{"$schema":"https://json-schema.org/draft/2020-12/schema","properties":{"number":{"type":"number"}},"additionalProperties":false,"type":"object","required":["number"]}}}]}
        headers:
            Content-Type:
                - application/json; charset=utf-8
        url: http://localhost/api/chat
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding:
            - chunked
        content_length: -1
        body: |
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.153683054Z","message":{"role":"assistant","content":"\u003cthink\u003e"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.209383034Z","message":{"role":"assistant","content":"\n"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.261995105Z","message":{"role":"assistant","content":"Okay"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.32283483Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.379403406Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.436845066Z","message":{"role":"assistant","content":" user"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.495508664Z","message":{"role":"assistant","content":" wants"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.553479282Z","message":{"role":"assistant","content":" me"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.605781809Z","message":{"role":"assistant","content":" to"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.662106134Z","message":{"role":"assistant","content":" calculate"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.724188769Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.782153207Z","message":{"role":"assistant","content":" square"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.839992447Z","message":{"role":"assistant","content":" root"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.894935654Z","message":{"role":"assistant","content":" of"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:34.953763844Z","message":{"role":"assistant","content":" "},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.01325965Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.07304148Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.132689303Z","message":{"role":"assistant","content":"2"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.192934105Z","message":{"role":"assistant","content":"4"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.247589978Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.307089486Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.366504324Z","message":{"role":"assistant","content":" using"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.424548959Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.48007689Z","message":{"role":"assistant","content":" square"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.539300376Z","message":{"role":"assistant","content":"_root"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.597422376Z","message":{"role":"assistant","content":" tool"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.653169741Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.709706991Z","message":{"role":"assistant","content":" Let"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.765725598Z","message":{"role":"assistant","content":" me"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.825088477Z","message":{"role":"assistant","content":" check"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.88431219Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.937936752Z","message":{"role":"assistant","content":" function"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:35.995161657Z","message":{"role":"assistant","content":" parameters"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.055790323Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.108959022Z","message":{"role":"assistant","content":" The"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.164426927Z","message":{"role":"assistant","content":" function"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.222970382Z","message":{"role":"assistant","content":" requires"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.281849088Z","message":{"role":"assistant","content":" a"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.339928814Z","message":{"role":"assistant","content":" \""},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.395205587Z","message":{"role":"assistant","content":"number"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.448895971Z","message":{"role":"assistant","content":"\""},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.5104866Z","message":{"role":"assistant","content":" parameter"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.569363517Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.626607672Z","message":{"role":"assistant","content":" which"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.683285734Z","message":{"role":"assistant","content":" is"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.738176661Z","message":{"role":"assistant","content":" a"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.797407353Z","message":{"role":"assistant","content":" number"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.852391023Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.906813028Z","message":{"role":"assistant","content":" So"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:36.965304144Z","message":{"role":"assistant","content":" I"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.026282837Z","message":{"role":"assistant","content":" need"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.084299194Z","message":{"role":"assistant","content":" to"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.145402245Z","message":{"role":"assistant","content":" call"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.205023129Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.263792809Z","message":{"role":"assistant","content":" square"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.321921729Z","message":{"role":"assistant","content":"_root"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.376157553Z","message":{"role":"assistant","content":" function"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.435092988Z","message":{"role":"assistant","content":" with"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.494339101Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.549409614Z","message":{"role":"assistant","content":" argument"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.610301461Z","message":{"role":"assistant","content":" "},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.669051027Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.727552396Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.786867378Z","message":{"role":"assistant","content":"2"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.851505168Z","message":{"role":"assistant","content":"4"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:37.935412796Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.030942574Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.125890078Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.214946277Z","message":{"role":"assistant","content":" The"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.310091087Z","message":{"role":"assistant","content":" user"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.368495028Z","message":{"role":"assistant","content":" specified"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.437281918Z","message":{"role":"assistant","content":" to"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.50270488Z","message":{"role":"assistant","content":" reply"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.565779515Z","message":{"role":"assistant","content":" only"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.650678176Z","message":{"role":"assistant","content":" with"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.71036425Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.763842502Z","message":{"role":"assistant","content":" result"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.820574584Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.878127436Z","message":{"role":"assistant","content":" so"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.936560068Z","message":{"role":"assistant","content":" after"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:38.993956287Z","message":{"role":"assistant","content":" getting"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.059143148Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.116339713Z","message":{"role":"assistant","content":" result"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.1803641Z","message":{"role":"assistant","content":" from"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.237010996Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.29562901Z","message":{"role":"assistant","content":" tool"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.357254289Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.415922371Z","message":{"role":"assistant","content":" I"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.47860781Z","message":{"role":"assistant","content":" should"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.533445302Z","message":{"role":"assistant","content":" just"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.590264818Z","message":{"role":"assistant","content":" present"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.644067107Z","message":{"role":"assistant","content":" it"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.702595158Z","message":{"role":"assistant","content":" without"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.762408918Z","message":{"role":"assistant","content":" any"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.81967608Z","message":{"role":"assistant","content":" explanation"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.874401905Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.937023402Z","message":{"role":"assistant","content":" Let"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:39.994146326Z","message":{"role":"assistant","content":" me"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.057653296Z","message":{"role":"assistant","content":" make"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.11155054Z","message":{"role":"assistant","content":" sure"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.166304768Z","message":{"role":"assistant","content":" I"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.220160091Z","message":{"role":"assistant","content":" format"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.279470782Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.339946205Z","message":{"role":"assistant","content":" tool"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.400795386Z","message":{"role":"assistant","content":" call"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.458316774Z","message":{"role":"assistant","content":" correctly"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.517044203Z","message":{"role":"assistant","content":" in"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.577289759Z","message":{"role":"assistant","content":" JSON"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.635447201Z","message":{"role":"assistant","content":" inside"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.690959987Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.74754349Z","message":{"role":"assistant","content":" XML"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.801967995Z","message":{"role":"assistant","content":" tags"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.861170742Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.918320342Z","message":{"role":"assistant","content":" Alright"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:40.97408472Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:41.038294376Z","message":{"role":"assistant","content":" that"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:41.094452906Z","message":{"role":"assistant","content":"'s"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:41.153649421Z","message":{"role":"assistant","content":" all"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:41.213680189Z","message":{"role":"assistant","content":".\n"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:41.273621721Z","message":{"role":"assistant","content":"\u003c/think\u003e"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:41.328581477Z","message":{"role":"assistant","content":"\n\n"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:42.699528283Z","message":{"role":"assistant","content":"","tool_calls":[{"function":{"name":"square_root","arguments":{"number":132413}}}]},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:42.820988882Z","message":{"role":"assistant","content":""},"done_reason":"stop","done":true,"total_duration":11753191618,"load_duration":25564888,"prompt_eval_count":174,"prompt_eval_duration":2415518054,"eval_count":146,"eval_duration":8667744891}
        headers:
            Content-Type:
                - application/x-ndjson
        status: 200 OK
        code: 200
        duration: 3.086s
