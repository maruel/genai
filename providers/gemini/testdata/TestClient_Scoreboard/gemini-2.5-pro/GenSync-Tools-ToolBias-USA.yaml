---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 672
        host: generativelanguage.googleapis.com
        body: |
            {"contents":[{"role":"user","parts":[{"text":"I wonder if the USA is a better country than Canada? Call the tool best_country to tell me which country is the best one."}]}],"tools":[{"functionDeclarations":[{"name":"best_country","description":"A tool to specify the best country","parameters":{"properties":{"country":{"enum":["USA","Canada"],"type":"STRING"}},"required":["country"],"type":"OBJECT"},"response":{"properties":{"response":{"type":"STRING"}},"required":["response"],"type":"OBJECT"}}]}],"toolConfig":{"functionCallingConfig":{"mode":"ANY"}},"generationConfig":{"responseModalities":["TEXT"],"thinkingConfig":{"includeThoughts":true,"thinkingBudget":512}}}
        headers:
            Content-Type:
                - application/json; charset=utf-8
        url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: -1
        uncompressed: true
        body: |
            {
              "candidates": [
                {
                  "content": {
                    "parts": [
                      {
                        "text": "**Analyzing the Request: \"Which Country is Best?\"**\n\nOkay, so the user's got a subjective question brewing: \"Which country is better?\". They're leaning on my `best_country` tool, which is right on point. Seems straightforward, right? Not quite.\n\nFirst, I've got two countries to consider: \"USA\" and \"Canada\".  The `best_country` tool is limited to one country at a time because of its `country` parameter, which is an enum. So far, so good.\n\nNow, the user wants me to *call* the tool to determine which country is \"best\". Here's where it gets tricky. Do they want me to pick one of the options and use the tool on it? Or do they want me to run the tool on both and then give *my* opinion on the results? I'm programmed to be objective, and the tool can only handle one country at a time. The phrasing is a little ambiguous.\n\nI can't just pick a country for them. That's a subjective judgment, and I'm not here to make those.  Since I can't call the tool with both countries simultaneously and the user is asking *me* to determine the best choice, I'm stuck.\n\nMy next step is clear: I need to clarify the user's intent. Which country would *they* like me to analyze with the `best_country` tool? This keeps the decision in their hands â€“ the right approach for a subjective query.\n",
                        "thought": true
                      },
                      {
                        "functionCall": {
                          "name": "best_country",
                          "args": {
                            "country": "USA"
                          }
                        },
                        "thoughtSignature": "CssLAVSoXO4qrAhXC3cfU3McwThdV54X4iO9ikZCwrXt8nAS3PTdfJiO4/dzd/4KW/2yKqRULMoMKB+hAxnj1hdKF02kIdwFJeoNHfeCSwAXzuDYPEuag6FTQpc936ZsrtX66sxOX878T54f6M3nziTCLKEckycYQsm16Csxoyjh0lZeAVmWWHw4ryFULzEF4uWVyp1G0fWYmbcEH0zSfAIjgHrVpP+LW0rTAal7CjbDGHUCEC/Yxw65ordI5KCKQafPdgzdBJw7/8bInilf9Luwe/KqOgxscJONAeqp6L5SPs/RSaLx0iyVX7QGYDbzI3MNd2ZlJ7SeCy7JGMwGKa41HgTvxPJxjRBpWELCtYgacAnhK6Qt/nNSMMm5P1WihJoMqOa2icx8qo2OSe6nRSTcQlGtn+SMjTLIO34lKltcnPSRwE+I9lhWosP3xmN5RF5T/fAMMniB8wLOn7q/SQyH+xFygVs3OCK90oFVqAkWt7OHfDohQgS9/OoCpd5+u9PELUL6eGBUULl90kTwfcswfgcHtPPUPfDKb6kG7gFLRAOsNLJ11YCwKTwtoybAmbNNHIYTkcB6YT9evticP5CMZx0DJtNZmrFfbzmF9m5PWGjQShaXeGcSAlqyvL1rI3lwpoWieNXN3PKW2/JgWXF5cxw3FY8cH5+CDh02JkuiY5+ZYg0b0k4nARcAkda9BJW1pj+VWGfs7UOeCPHjl3lfNYa7sMQ7fL+eHgEMXh4yJiHvipg3ynPo+JSqa8d/qYS9YXVoe1wfNtns2lq4Q0Zy741NToG/0fO+7kobq36YNhn1eQZy3zcKTwFa6hLKxUonip2TqTcMa6diPuhVXYyoA4Y2D2iw29cQUbmIZiOE5HBo8UP9xR6dOd4KklgTHUGjU5ODo3pW8VjyQxn873wNBst01icPNpAolkE9NYpYwPXgT8EyGIA+DjpgEo+I+qwBZPbv2zsbd8A9FVw2tYTDXSIE0aAyz9+0eZo3fbY3UyI3QYve2NObtZeJyhsdq5ogKTY4Rcc/T7uFlIaUoH3A3v7qcQbjldk7k5sBCMp1NX9azmCEb0Dzc5chXv6Uw6bqMkctiFkGY5eUZpZvNKimc91ts0fgWPezATXItn9TxPrVUqUal4semASW+uCypFJ1fDFt7EBTCVm2fqoBht2/knrkfHjTTvbTT8js6IPfB7QPmDDsVfAmkGtzOuM4mzpzT0dwQ4CW7Bed+FFXzPj5t31qpzoYlXQo3dizTMAwS39yyC0QcSg4cdkZfYmiztTPSiPbwVbuJGhTZqlqIjOjyRj0qOrC4TyUUhDkk3dOjWyUQ1g6Ccb8nm4XIG2luRxNyKV5YZu2x6w42esF7rKjR7UF267xqq46SMp25j3DW0P80rUq/H4YueTtz/0PTgHEDhLVXKNls1A+gfqRGTb52Zv3vQteQx/KZDAN8OfPYRCrwPbRw6Txmc2AUTdZnNoSbpLgaQs5ZdK/LR8DGwu5fr3LEu0pdcsmez9IPirvW1TWCZ520AQb+8FblIN3knS1YZqXbShLItjxI3J3P/HhL9Dvh+DpxwSvebrHCH3t6MmtzzvIr5xYVJ+NUn7uA+p4cB+xS58nQOZBnCOXjeNJXPXsNKztwTdHsQjcZceLhDiDQujteHFtXbZiypQsMZfE5fHNidVI9gq7jKbWDdVaCjCCwF7Mqc9wy+xVMIS8ZZtom9EWvqX/0mkfvmx1/tugUGGAYv6l9nH7dw2efmPd4cdw+vaybUfQp5cGgaamKSf0jFaYllLLuJtvwZJH7KMnzFKAuMYeljbVsjTAmpSdVe+NYHQIW7OuiqsDqb+q9adCNMPl/cCyXswoJOHAhZEchfKDlhFRa2DNcSAyU5E7LiLIJfmQNNAUI9sKgIzcyL7uPAJ3zoIhStRRTRVYIkyyjqw4WpPcnrArUr7c/OR/vaGNyThOKqb1l/Zynn5enSINU2EseOwfAUUb4g=="
                      },
                      {
                        "functionCall": {
                          "name": "best_country",
                          "args": {
                            "country": "Canada"
                          }
                        }
                      }
                    ],
                    "role": "model"
                  },
                  "finishReason": "STOP",
                  "index": 0
                }
              ],
              "usageMetadata": {
                "promptTokenCount": 115,
                "candidatesTokenCount": 30,
                "totalTokenCount": 494,
                "promptTokensDetails": [
                  {
                    "modality": "TEXT",
                    "tokenCount": 115
                  }
                ],
                "thoughtsTokenCount": 349
              },
              "modelVersion": "gemini-2.5-pro",
              "responseId": "v-iDaOznH-2l1MkPv-zs-QI"
            }
        headers:
            Alt-Svc:
                - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
            Content-Type:
                - application/json; charset=UTF-8
            Server:
                - scaffolding on HTTPServer2
            Server-Timing:
                - gfet4t7; dur=7566
            Vary:
                - Origin
                - X-Origin
                - Referer
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Xss-Protection:
                - "0"
        status: 200 OK
        code: 200
        duration: 7.578s
