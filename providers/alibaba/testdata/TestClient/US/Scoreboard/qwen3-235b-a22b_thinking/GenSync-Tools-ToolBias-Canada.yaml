---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 573
        host: dashscope-us.aliyuncs.com
        body: |
            {"model":"qwen3-235b-a22b","messages":[{"role":"user","content":"I wonder if Canada is a better country than the USA? Call the tool best_country to tell me which country is the best one."}],"stream":false,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"best_country","description":"A tool to specify the best country","parameters":{"$schema":"https://json-schema.org/draft/2020-12/schema","properties":{"country":{"type":"string","enum":["Canada","USA"]}},"additionalProperties":false,"type":"object","required":["country"]}}}],"enable_thinking":true}
        headers:
            Content-Type:
                - application/json; charset=utf-8
        url: https://dashscope-us.aliyuncs.com/compatible-mode/v1/chat/completions
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: -1
        uncompressed: true
        body: '{"choices":[{"message":{"content":"","reasoning_content":"Okay, the user is asking if Canada is a better country than the USA. They want me to use the best_country tool to determine which is the best. Let me check the tool''s parameters. The tool allows specifying the country as either Canada or USA. Since the user is comparing these two, I need to call the tool with each country to see which one is rated higher. Wait, but the tool''s description says it''s to specify the best country. Maybe the function can evaluate and return which country is better based on some criteria. But according to the function''s parameters, it just takes a country name. Maybe the function''s implementation has logic to compare them. However, the user wants to know which is better, so I should call the tool for each country and compare the results. Alternatively, maybe the tool expects a single country input, but how would it compare? Perhaps the function is designed to return a predefined answer. Wait, the function''s parameters have an enum for country, so maybe when called with each country, it will return some evaluation. But the function''s description isn''t clear. Since the user wants to know which is better, I''ll have to call the tool for both Canada and the USA and then compare the outputs. Let me start by calling the tool for Canada first.","role":"assistant","tool_calls":[{"function":{"arguments":"{\"country\": \"Canada\"}","name":"best_country"},"id":"call_078da82497e44accb30c15","index":0,"type":"function"}]},"finish_reason":"tool_calls","index":0,"logprobs":null}],"object":"chat.completion","usage":{"prompt_tokens":211,"completion_tokens":286,"total_tokens":497,"completion_tokens_details":{"reasoning_tokens":262}},"created":1772220530,"system_fingerprint":null,"model":"qwen3-235b-a22b","id":"chatcmpl-jH2bMiTLwqtMXaYN"}'
        headers:
            Content-Type:
                - application/json
            Eagleeye-Traceid:
                - 0bc2425d17722205236506945ee4da
            Req-Arrive-Time:
                - "1772220523652"
            Req-Cost-Time:
                - "6477"
            Resp-Start-Time:
                - "1772220530129"
            Server:
                - istio-envoy
            Strict-Transport-Security:
                - max-age=0
            Timing-Allow-Origin:
                - '*'
            Vary:
                - Accept-Encoding
                - Origin,Access-Control-Request-Method,Access-Control-Request-Headers
            X-Dashscope-Call-Gateway:
                - "true"
            X-Envoy-Upstream-Service-Time:
                - "6476"
        status: 200 OK
        code: 200
        duration: 6.502s
