---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 550
        host: localhost
        body: |
            {"model":"qwen3:4b","messages":[{"role":"user","content":"Use the square_root tool to calculate the square root of 132413 and reply with only the result. Do not give an explanation."},{"role":"user","content":"\n\n/think"}],"stream":true,"tools":[{"type":"function","function":{"description":"Calculates and return the square root of a number","name":"square_root","parameters":{"$schema":"https://json-schema.org/draft/2020-12/schema","properties":{"number":{"type":"number"}},"additionalProperties":false,"type":"object","required":["number"]}}}]}
        headers:
            Content-Type:
                - application/json; charset=utf-8
        url: http://localhost/api/chat
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding:
            - chunked
        content_length: -1
        body: |
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.504563041Z","message":{"role":"assistant","content":"\u003cthink\u003e"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.558258597Z","message":{"role":"assistant","content":"\n"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.612199377Z","message":{"role":"assistant","content":"Okay"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.683466545Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.752687224Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.805317026Z","message":{"role":"assistant","content":" user"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.868317948Z","message":{"role":"assistant","content":" wants"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.921617335Z","message":{"role":"assistant","content":" me"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:52.974216158Z","message":{"role":"assistant","content":" to"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.033503049Z","message":{"role":"assistant","content":" calculate"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.092731869Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.148197714Z","message":{"role":"assistant","content":" square"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.20176305Z","message":{"role":"assistant","content":" root"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.262991898Z","message":{"role":"assistant","content":" of"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.325793957Z","message":{"role":"assistant","content":" "},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.383493159Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.443327118Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.499978656Z","message":{"role":"assistant","content":"2"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.557968129Z","message":{"role":"assistant","content":"4"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.626019649Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.689913491Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.768947707Z","message":{"role":"assistant","content":" using"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.865959323Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:53.94860028Z","message":{"role":"assistant","content":" square"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.004272195Z","message":{"role":"assistant","content":"_root"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.073199324Z","message":{"role":"assistant","content":" tool"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.146969282Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.21667968Z","message":{"role":"assistant","content":" Let"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.300451152Z","message":{"role":"assistant","content":" me"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.401740938Z","message":{"role":"assistant","content":" check"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.503218304Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.5937626Z","message":{"role":"assistant","content":" function"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.69059615Z","message":{"role":"assistant","content":" parameters"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.779682612Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.857136688Z","message":{"role":"assistant","content":" The"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:54.943060244Z","message":{"role":"assistant","content":" function"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.031451932Z","message":{"role":"assistant","content":" requires"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.118541707Z","message":{"role":"assistant","content":" a"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.23031035Z","message":{"role":"assistant","content":" \""},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.326707626Z","message":{"role":"assistant","content":"number"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.430522555Z","message":{"role":"assistant","content":"\""},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.523364234Z","message":{"role":"assistant","content":" parameter"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.621413089Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.72740149Z","message":{"role":"assistant","content":" which"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.829219101Z","message":{"role":"assistant","content":" is"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:55.94202309Z","message":{"role":"assistant","content":" a"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.042306671Z","message":{"role":"assistant","content":" number"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.148473896Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.253751651Z","message":{"role":"assistant","content":" So"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.365436207Z","message":{"role":"assistant","content":" I"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.469343882Z","message":{"role":"assistant","content":" need"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.573397198Z","message":{"role":"assistant","content":" to"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.687754969Z","message":{"role":"assistant","content":" call"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.778819087Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.870125983Z","message":{"role":"assistant","content":" square"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:56.967061037Z","message":{"role":"assistant","content":"_root"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.056253146Z","message":{"role":"assistant","content":" function"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.149973864Z","message":{"role":"assistant","content":" with"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.245493757Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.341601507Z","message":{"role":"assistant","content":" number"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.434705288Z","message":{"role":"assistant","content":" "},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.535173858Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.639547359Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.735515814Z","message":{"role":"assistant","content":"2"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.83787748Z","message":{"role":"assistant","content":"4"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:57.939949546Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.031061558Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.12541311Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.217031489Z","message":{"role":"assistant","content":" The"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.307235674Z","message":{"role":"assistant","content":" user"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.396964292Z","message":{"role":"assistant","content":" specified"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.497868094Z","message":{"role":"assistant","content":" to"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.600540444Z","message":{"role":"assistant","content":" reply"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.697394455Z","message":{"role":"assistant","content":" only"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.781248738Z","message":{"role":"assistant","content":" with"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.876282536Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:58.970889209Z","message":{"role":"assistant","content":" result"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.062378465Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.157554268Z","message":{"role":"assistant","content":" so"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.2490177Z","message":{"role":"assistant","content":" once"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.350047789Z","message":{"role":"assistant","content":" I"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.441128981Z","message":{"role":"assistant","content":" get"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.53274554Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.627026428Z","message":{"role":"assistant","content":" result"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.720101626Z","message":{"role":"assistant","content":" from"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.807535177Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.897467945Z","message":{"role":"assistant","content":" tool"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:22:59.987930719Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.079800029Z","message":{"role":"assistant","content":" I"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.173355881Z","message":{"role":"assistant","content":" should"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.263730994Z","message":{"role":"assistant","content":" just"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.349169445Z","message":{"role":"assistant","content":" present"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.439181529Z","message":{"role":"assistant","content":" it"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.530051076Z","message":{"role":"assistant","content":" without"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.622254578Z","message":{"role":"assistant","content":" any"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.706358736Z","message":{"role":"assistant","content":" explanation"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.79780206Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.887622325Z","message":{"role":"assistant","content":" Let"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:00.973560369Z","message":{"role":"assistant","content":" me"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.072001961Z","message":{"role":"assistant","content":" make"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.172057161Z","message":{"role":"assistant","content":" sure"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.264408899Z","message":{"role":"assistant","content":" I"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.35317543Z","message":{"role":"assistant","content":" format"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.436095011Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.522119454Z","message":{"role":"assistant","content":" tool"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.609878323Z","message":{"role":"assistant","content":" call"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.695529902Z","message":{"role":"assistant","content":" correctly"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.788060377Z","message":{"role":"assistant","content":"."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.877310775Z","message":{"role":"assistant","content":" The"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:01.965362722Z","message":{"role":"assistant","content":" function"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.050249409Z","message":{"role":"assistant","content":" name"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.143099031Z","message":{"role":"assistant","content":" is"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.23442997Z","message":{"role":"assistant","content":" square"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.326263512Z","message":{"role":"assistant","content":"_root"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.420934898Z","message":{"role":"assistant","content":","},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.511229654Z","message":{"role":"assistant","content":" and"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.602690392Z","message":{"role":"assistant","content":" the"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.699886052Z","message":{"role":"assistant","content":" argument"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.791535151Z","message":{"role":"assistant","content":" is"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.885023183Z","message":{"role":"assistant","content":" {\""},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:02.974285634Z","message":{"role":"assistant","content":"number"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.064601238Z","message":{"role":"assistant","content":"\":"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.159884578Z","message":{"role":"assistant","content":" "},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.25061692Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.33961993Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.432868737Z","message":{"role":"assistant","content":"2"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.527245183Z","message":{"role":"assistant","content":"4"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.615025909Z","message":{"role":"assistant","content":"1"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.712586265Z","message":{"role":"assistant","content":"3"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.810037881Z","message":{"role":"assistant","content":"}."},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.902696882Z","message":{"role":"assistant","content":" That"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:03.99397776Z","message":{"role":"assistant","content":" should"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:04.089092312Z","message":{"role":"assistant","content":" do"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:04.178863712Z","message":{"role":"assistant","content":" it"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:04.267723989Z","message":{"role":"assistant","content":".\n"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:04.362666481Z","message":{"role":"assistant","content":"\u003c/think\u003e"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:04.45238215Z","message":{"role":"assistant","content":"\n\n"},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:06.581114758Z","message":{"role":"assistant","content":"","tool_calls":[{"function":{"name":"square_root","arguments":{"number":132413}}}]},"done":false}
            {"model":"qwen3:4b","created_at":"2025-08-14T18:23:06.754940425Z","message":{"role":"assistant","content":""},"done_reason":"stop","done":true,"total_duration":23932798333,"load_duration":21790510,"prompt_eval_count":174,"prompt_eval_duration":70754097,"eval_count":162,"eval_duration":14250734576}
        headers:
            Content-Type:
                - application/x-ndjson
        status: 200 OK
        code: 200
        duration: 9.683s
