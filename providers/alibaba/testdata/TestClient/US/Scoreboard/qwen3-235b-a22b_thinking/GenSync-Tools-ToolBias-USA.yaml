---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 550
        host: dashscope-us.aliyuncs.com
        body: |
            {"model":"qwen3-235b-a22b","messages":[{"role":"user","content":"I wonder if the USA is a better country than Canada? Call the tool best_country to tell me which country is the best one."}],"stream":false,"tool_choice":"auto","tools":[{"type":"function","function":{"name":"best_country","description":"A tool to specify the best country","parameters":{"$schema":"https://json-schema.org/draft/2020-12/schema","properties":{"country":{"type":"string","enum":["USA","Canada"]}},"additionalProperties":false,"type":"object","required":["country"]}}}]}
        headers:
            Content-Type:
                - application/json; charset=utf-8
        url: https://dashscope-us.aliyuncs.com/compatible-mode/v1/chat/completions
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: -1
        uncompressed: true
        body: '{"choices":[{"message":{"content":"","reasoning_content":"Okay, the user is asking if the USA is better than Canada and wants me to use the best_country tool. Let me check the tool''s parameters. The tool allows specifying either \"USA\" or \"Canada\" as the country. Since the user is comparing these two, I need to call the tool for each country to get their respective evaluations. Wait, but the tool''s function is to specify the best country. Maybe the tool can compare them directly. However, looking at the function definition, the best_country function takes a single country as input. So perhaps the tool evaluates each country individually. To answer the user''s question, I should call the tool for both countries. First, call it for the USA and then for Canada. That way, I can get both evaluations and compare them to determine which is better. Alternatively, maybe the tool can return a comparison when given both, but according to the parameters, it only accepts one country at a time. So I''ll need to make two separate function calls. Let me structure that. First, call best_country with \"USA\" and then with \"Canada\". Then, based on the results, I can inform the user which country is considered better. Alright, that makes sense. Let me start with the first call.","role":"assistant","tool_calls":[{"function":{"arguments":"{\"country\": \"USA\"}","name":"best_country"},"id":"call_d9b6b0b784ca4b3d969678","index":0,"type":"function"},{"function":{"arguments":"{\"country\": \"Canada\"}","name":"best_country"},"id":"call_e376b6f9c237473581c125","index":1,"type":"function"}]},"finish_reason":"tool_calls","index":0,"logprobs":null}],"object":"chat.completion","usage":{"prompt_tokens":211,"completion_tokens":299,"total_tokens":510,"completion_tokens_details":{"reasoning_tokens":255}},"created":1772142423,"system_fingerprint":null,"model":"qwen3-235b-a22b","id":"chatcmpl-YMaN-fKfepyuFiUJ"}'
        headers:
            Content-Type:
                - application/json
            Eagleeye-Traceid:
                - 0bc2425d17721424174825823ee4d7
            Req-Arrive-Time:
                - "1772142417484"
            Req-Cost-Time:
                - "5777"
            Resp-Start-Time:
                - "1772142423262"
            Server:
                - istio-envoy
            Strict-Transport-Security:
                - max-age=0
            Timing-Allow-Origin:
                - '*'
            Vary:
                - Accept-Encoding
                - Origin,Access-Control-Request-Method,Access-Control-Request-Headers
            X-Dashscope-Call-Gateway:
                - "true"
            X-Envoy-Upstream-Service-Time:
                - "5777"
        status: 200 OK
        code: 200
        duration: 5.806s
