---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 803
        host: dashscope-us.aliyuncs.com
        body: |
            {"model":"qwen3-235b-a22b","messages":[{"role":"user","content":"Use the square_root tool to calculate the square root of 132413 and reply with only the result. Do not give an explanation."},{"role":"assistant","tool_calls":[{"id":"call_ddd5cc5e3ac6487cbbc7ee","type":"function","function":{"name":"square_root","arguments":"{\"number\": 132413}"}}]},{"role":"tool","content":"363.89","tool_call_id":"call_ddd5cc5e3ac6487cbbc7ee"}],"stream":false,"tool_choice":"none","tools":[{"type":"function","function":{"name":"square_root","description":"Calculates and return the square root of a number","parameters":{"$schema":"https://json-schema.org/draft/2020-12/schema","properties":{"number":{"type":"number"}},"additionalProperties":false,"type":"object","required":["number"]}}}],"enable_thinking":true}
        headers:
            Content-Type:
                - application/json; charset=utf-8
        url: https://dashscope-us.aliyuncs.com/compatible-mode/v1/chat/completions
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: -1
        uncompressed: true
        body: '{"choices":[{"message":{"content":"363.89","reasoning_content":"Okay, the user asked for the square root of 132413 using the square_root tool. I called the tool with that number, and the response was 363.89. I need to make sure that''s accurate. Let me check by squaring 363.89. \n\n363.89 squared is approximately 363.89 * 363.89. Let''s calculate that:\n\nFirst, 360^2 = 129,600. Then, 3.89^2 is about 15.13. The cross terms would be 2*360*3.89 = 2*360*3 + 2*360*0.89 = 2160 + 640.8 = 2800.8. Adding all together: 129,600 + 2800.8 + 15.13  132,415.93. That''s very close to 132,413, considering rounding. So the square root is correct to two decimal places. The user probably wants the answer as is, so I''ll present 363.89 as the result.","role":"assistant"},"finish_reason":"stop","index":0,"logprobs":null}],"object":"chat.completion","usage":{"prompt_tokens":83,"completion_tokens":295,"total_tokens":378,"completion_tokens_details":{"reasoning_tokens":284}},"created":1772220524,"system_fingerprint":null,"model":"qwen3-235b-a22b","id":"chatcmpl-aTVPEgnh-ajGctlE"}'
        headers:
            Content-Type:
                - application/json
            Eagleeye-Traceid:
                - 0bc2425d17722205178026933ee4da
            Req-Arrive-Time:
                - "1772220517804"
            Req-Cost-Time:
                - "5820"
            Resp-Start-Time:
                - "1772220523624"
            Server:
                - istio-envoy
            Strict-Transport-Security:
                - max-age=0
            Timing-Allow-Origin:
                - '*'
            Vary:
                - Accept-Encoding
                - Origin,Access-Control-Request-Method,Access-Control-Request-Headers
            X-Dashscope-Call-Gateway:
                - "true"
            X-Envoy-Upstream-Service-Time:
                - "5820"
        status: 200 OK
        code: 200
        duration: 5.846s
