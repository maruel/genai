---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 619
    host: api.anthropic.com
    body: "{\"model\":\"claude-opus-4-1-20250805\",\"max_tokens\":32000,\"messages\":[{\"role\":\"user\",\"content\":[{\"type\":\"text\",\"text\":\"I wonder if Canada is a better country than the USA? Call the tool best_country to tell me which country is the best one.\"}]}],\"thinking\":{\"budget_tokens\":1024,\"type\":\"enabled\"},\"tool_choice\":{\"type\":\"auto\"},\"tools\":[{\"description\":\"A tool to specify the best country\",\"input_schema\":{\"$schema\":\"https://json-schema.org/draft/2020-12/schema\",\"properties\":{\"country\":{\"type\":\"string\",\"enum\":[\"Canada\",\"USA\"]}},\"additionalProperties\":false,\"type\":\"object\",\"required\":[\"country\"]},\"name\":\"best_country\"}]}\n"
    headers:
      Anthropic-Version:
      - "2023-06-01"
      Content-Type:
      - application/json; charset=utf-8
    url: https://api.anthropic.com/v1/messages
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    uncompressed: true
    body: "{\"id\":\"msg_01AL9ghdmEyRmwrkdGvEGETq\",\"type\":\"message\",\"role\":\"assistant\",\"model\":\"claude-opus-4-1-20250805\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"The user is asking me to call the best_country tool to determine which country is better between Canada and the USA. They want me to use this tool to tell them which is the best one.\\n\\nLooking at the function schema, it requires a \\\"country\\\" parameter that must be either \\\"Canada\\\" or \\\"USA\\\". \\n\\nHowever, the user is asking me to determine which is best, not specifying which country to check. The tool seems to take a single country as input, not compare two countries. This is a bit confusing - the tool is called \\\"best_country\\\" and takes a single country parameter with enum values of Canada or USA.\\n\\nI think the user might be misunderstanding how the tool works. The tool appears to specify/declare which country is best, taking one country as input. It's not clear what this tool actually does - does it return information about why that country is best? Or does it just take a country as input?\\n\\nGiven the ambiguity, I should probably just call the tool with one of the countries to see what it does. Or I could call it twice, once for each country. Let me call it for both countries to see what information it provides.\",\"signature\":\"EooKCkYIBxgCKkB2Tn15f9kS4KCoIXBSyiG7LZe5oNDUnRpHKvtXcXhpaPfvasSVw6D3Y2OGp2vMY92da6qsIyWR39N0TKdwtJ+jEgzFb9ROKH8g0IhQVXAaDDsdBg/ZIoJJ/Tj3ESIw4tYlovNUD9ZqQl4THnavNsyOhZeMIwmrwCGIsQea1hXgAhvvIUVhSvkDbGaJuVu8KvEITM1M+xGPJPUvgfZizH2l5c2YS1qsBDBIj9Sq70HMe7db83T9/7D10FUwkdU7m3F9VLrBQIZXFwTYbmma3wFAK9fofZlCHkXMQHnDo3lLkltxZoycyqF3naqEB/6hX3Zrd78lAq/iGD812xrdkjU3MWHRVZXKTQNIEZYP0WgLPpPGVOm0zpaLDGszYLv5Buicoud0gHu0tacNZVlk3Tk1cv85ZlEO3F8FgastTrmDiB8hpiktSOqTmb/vrl++RWd/LTBFAgduvUYiucO3ikwxzv2Yml6Fs4mIDPn+8KZeDe34/xdZA6lFAlEuoGvilhezMZgrINDQ2J90n35YW856BoJKuQkbqWCy9ZqWslJtntqPAV/cTGt0rO/mq4SK5ldlajLrdw/GUZCAVEglUFg9x7rEOwajqVvLdi7am/pfPAT7m7gpaY2Dip/IVUBrPeTSFqRd6NCzpbqW+pGjWJcv1Hjb/mTaD0g3OO/1d00cSSYBYMlh+3H4lnaKzAaf+Ej4TOG0sX4+c+sapZHJ+fXvrO/Q8ENevTvn9W1hhYAjv2duMBQgXdbBRGsupuSpEB3+Q54CXarSWJBL2ouqjozKp/SwbeuQHOPAx+wXZTVtoNS0AClxV26vV3abLO5F5GwD+UiB0zSa481HkKnDpDlTaoX26PUfusZBJyWZ3RKVc/FtiTu3z9krh8y1ued+v3+4kCFmORH2zo9TCrzeHFycDB6yH27u2Bk9UOFneRkFq38ZBRxuzt1EKaDQBXMqGtwfmKx2l4mOjUIfNQ11R3lgd91NdJ1SsJ1TJsoa1+YvGGPn59Ebu/hXiZZczRv66AemfBEtX9atWAcoD6wrSx9VakTLz+abazKD1WdhenzrTefL3lmKdav4W+OvKl+NCP6lWcZR5T8NG9dauMT7zMG/iM5HaKMJ8E0pvw+RuqY90AsZGbvnnMydcTGyomyNvHdMtkE2Yiv+ofo5zdgIfffNgN/Ku74varNBQGPyVzjIdc2sS7p6bjNWHNxk1OIP1kzg6c46XmuIvCoj4AS6rlT8zrP956ITRe7YPJqGgpeGTpF/f2/J+jPFcJjrxZ2Bn5f8lHcUSyRx79/xzjchvkpguPesn3Uc3I/Ri0MyszbRraNYPSEQcNto2zvWxw2U1ewqTislzsqfYkoSljTLNHqVMbz//7kER9JMKtou5L1uNJfnBLR5XCY7iaIeV8Ac+3ndxRMqBROsWNJsZlx+PEs0rQLCPhtu7TIppRIbSbeo35egCUUumB7zNnoDRH/SkGf5pjCI3tMjW/MAP+aKsgcHmkvUdYiUts/cRFk1NnP0JIUa/S0fNTQpCyJTjmggSjKnZ9gvT66w0dmtG5vw9mw4xGf2fQNOiTIbjsG92VsjolhRX9KTwIZsFszJMfXCOSrKP66EvLBGRt86GbCmaZjz9YtfZxN70q1bkN19+T9LJgCcRHzyxVYQ7oslQ3BDXdYY9Ify3m2rvpiGF4o8EY2VKFBS8x5SaR12H0xTJvu3ltikGAE=\"},{\"type\":\"text\",\"text\":\"I'll call the best_country tool for both Canada and the USA to help answer your question.\"},{\"type\":\"tool_use\",\"id\":\"toolu_01GD62ox5uSQW11YV7urCXvB\",\"name\":\"best_country\",\"input\":{\"country\":\"Canada\"}},{\"type\":\"tool_use\",\"id\":\"toolu_019aJLnHf2kjWQJT158WRowZ\",\"name\":\"best_country\",\"input\":{\"country\":\"USA\"}}],\"stop_reason\":\"tool_use\",\"stop_sequence\":null,\"usage\":{\"input_tokens\":470,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"cache_creation\":{\"ephemeral_5m_input_tokens\":0,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":368,\"service_tier\":\"standard\"}}"
    headers:
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - "2000000"
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - "2000000"
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - "2025-08-29T14:31:18Z"
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - "400000"
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - "400000"
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - "2025-08-29T14:31:27Z"
      Anthropic-Ratelimit-Requests-Limit:
      - "4000"
      Anthropic-Ratelimit-Requests-Remaining:
      - "3999"
      Anthropic-Ratelimit-Requests-Reset:
      - "2025-08-29T14:31:17Z"
      Anthropic-Ratelimit-Tokens-Limit:
      - "2400000"
      Anthropic-Ratelimit-Tokens-Remaining:
      - "2400000"
      Anthropic-Ratelimit-Tokens-Reset:
      - "2025-08-29T14:31:18Z"
      Cf-Cache-Status:
      - DYNAMIC
      Cf-Ray:
      - 976cc04c5811a2f4-YUL
      Content-Type:
      - application/json
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Via:
      - 1.1 google
      X-Envoy-Upstream-Service-Time:
      - "10566"
      X-Robots-Tag:
      - none
    status: 200 OK
    code: 200
    duration: 10.618s
