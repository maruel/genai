---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 619
    host: api.anthropic.com
    body: "{\"model\":\"claude-opus-4-1-20250805\",\"max_tokens\":32000,\"messages\":[{\"role\":\"user\",\"content\":[{\"type\":\"text\",\"text\":\"I wonder if the USA is a better country than Canada? Call the tool best_country to tell me which country is the best one.\"}]}],\"thinking\":{\"budget_tokens\":1024,\"type\":\"enabled\"},\"tool_choice\":{\"type\":\"auto\"},\"tools\":[{\"description\":\"A tool to specify the best country\",\"input_schema\":{\"$schema\":\"https://json-schema.org/draft/2020-12/schema\",\"properties\":{\"country\":{\"type\":\"string\",\"enum\":[\"USA\",\"Canada\"]}},\"additionalProperties\":false,\"type\":\"object\",\"required\":[\"country\"]},\"name\":\"best_country\"}]}\n"
    headers:
      Anthropic-Version:
      - "2023-06-01"
      Content-Type:
      - application/json; charset=utf-8
    url: https://api.anthropic.com/v1/messages
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    uncompressed: true
    body: "{\"id\":\"msg_01Hr9a9J23oG4UvmVKnPC33x\",\"type\":\"message\",\"role\":\"assistant\",\"model\":\"claude-opus-4-1-20250805\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"The user is asking me to call the best_country tool to determine which country is better between USA and Canada. They want me to use this tool to make that determination.\\n\\nLooking at the function schema, the best_country tool takes one required parameter \\\"country\\\" which can be either \\\"USA\\\" or \\\"Canada\\\". \\n\\nThe user hasn't specified which country to check - they're asking which one is better. The tool appears to only take one country as input, not compare two. So I might need to call it twice, once for each country, or just pick one to call it with.\\n\\nActually, re-reading the tool description: \\\"A tool to specify the best country\\\" - this seems to be a tool where I specify/declare which country is best, not one that tells me which is best. The parameter is an input where I choose between USA or Canada.\\n\\nBut the user is asking me to \\\"Call the tool best_country to tell me which country is the best one\\\" - they want the tool to tell them which is best. This creates a bit of confusion about what the tool actually does.\\n\\nGiven the ambiguity, I should probably ask for clarification about which country they want me to specify as the best, since the tool requires me to input one country, not compare them.\",\"signature\":\"EuIKCkYIBxgCKkArdKzxAJLUND+d265sxpZPUClgrZrOe4r0G3+WpPW3Go3a1RELVktuA+Re5a9QwO26Hm2vC0V3dVBjnQm+UfmoEgw9oZ/LYDLwGXV7QZ8aDIxvJlRvYsNL+lDkPiIw0Ls+iHObNU+N1d1NFiNTlvY4bATC8m44JasNcTg97H/1AE/WAbEji207aib64g2/KskJJOCC4QP+qBZz9j+LO9WTyV17koE9XtDP8lp3fMRXMs8OJ/Za3lMxjuaPrE9IHTJpN5kVmJ0Fwh7tFxe269AWy1i7vDlGvkUyyQWnU+qQXmh53bQXEmF90Jp5fMcX5iJUuhOmsMZCzpE0U9AAq4RWayqgyvqm1RQXy6h+oxB9YVd7cY8Epc65WC/ASY62nLs97ebUhcuSQ6NPuzZByGAfzUVuXMqhgTnflhySxH4E97soGIzIayie0BQmtOAJj04Oh29pOHGoasEZkqla6mBpdSnboENTuC0FCuwh5e/8HLYDUEtVB+IhhnF3YfDmYHY7N/NvsxvEvhQw+21JW1g+PRLTWCMYC+oysBTQDFlOYBCPjxYouWZXViFJTVa0FXwQ2VHu9z+1gque0i/ebTZn0CpsnCxTW+ITZ3yJfrx9TkQh/OWzXz5iJvttrBav9p8NhDp8u6P3zXO+8YjuFvzLaN6kU/prQ0ve8cvnGsS1kEFpLsh0P+OUOfs0ns0zuGj+Y1kPk/z4T5MWbkWCbWqulh8LxWY4Zot46DfJlxCxBNFbrTIylTwYOOUuQ41jD4aCsBoF2Xh8jSA0kszWgcWkE4SaL8/3bg7bisYXSkwXBDgtDxsSQ4W2QxiIkeNuyIlgbuRDT2/aDrR+MxHSLzRDyObDsbSpI1ty6XLcA5pRNIa2u9UatLU5YdQ0zu3e5T6spkY2HT0cX92TuF2+YC+Vvmtr1whEiUw+sOKgYzKu4jICelZvmGxVyHTawL23ZaOtZjefheKhPnYcgBnYBPvxorYUX1a4nL5WoS+9vTllWKV4P8NETph8guprm+UQpA4p66THwVBkA6z5edBq7djkGCGWPkdK+0o6FzrN9gIgZb+Ue2+X9NL5GCukiG7KgjXEmLZIx/nzyFcwEkMRpk6pddtpmvPnUoS3YT/r9OOrZIr+lqZGirZL9lRcuPjaPGALJPZCI1zGUQnIxYP2KVZLsSQJvZXxfvOw2ElF1RB76wdQssNu11eQboSe8jikuKC9bqewyC9TVbcD4ygu/8uxamULXgR4fNQSbtugfYq6A4YTjQg4o9t/MOGQzh1Nx4RlbU+NEE2zZMspDUMQ/eyn1JBuw+/yQv69FhvQ22wiJEBfNXr+JLPJnXWsaHlt/OCHB5bBuyWAQAi6RILLqSQGaF8fUqG/t+PdEV9v/LircZVL3fXZ2NKq7VWLNN22pWWAXXdj1822yfLDbzgMJNqGz90EW8sGZ9a7szwg3s2GbEJ1rAwMP6dNN7icwYs8U4SMAk+Q/U0Knd7yEfq9b99/Vxkmi3+OZES8iJCfTC+1ql51/+F8qDVtW2DIE0N198yn4l2Z/bC+x2A+XRTxqzRWfgzOKvUTuYgImCzQ/d5Nm6znPchCgqT6rw1rqWIUmsZ9ZcPf2IWrkM58y9NK70gIyuEKThkkB6GhXDBUtqS1yKVdpsn5X8UphDwKtnKvFvReX4opdS6XgcgF+vOPO3i6hxu/sSKN6CqSSUjkEzrbhGB2skz6hgT1Um++0f/yEN+Jv3VQ2mQVgOmtMAwIFgOfmaJiVuw4DzFKgNvbNHIni9EfXSNHDk5cqyD3vwH6FcFSOvkAemYETIcA2LOzz+1HMjfiYjZq56rmtRgB\"},{\"type\":\"text\",\"text\":\"I can see that the `best_country` tool requires me to specify a country (either \\\"USA\\\" or \\\"Canada\\\") as an input parameter. This tool appears to be designed to declare or specify which country is best, rather than compare them automatically.\\n\\nTo use this tool, I need to provide one country as the parameter. Which country would you like me to specify as the best country - USA or Canada? Or would you like me to call the tool twice, once for each country, to see what happens?\"}],\"stop_reason\":\"end_turn\",\"stop_sequence\":null,\"usage\":{\"input_tokens\":470,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"cache_creation\":{\"ephemeral_5m_input_tokens\":0,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":389,\"service_tier\":\"standard\"}}"
    headers:
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - "2000000"
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - "2000000"
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - "2025-08-29T14:31:30Z"
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - "400000"
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - "400000"
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - "2025-08-29T14:31:39Z"
      Anthropic-Ratelimit-Requests-Limit:
      - "4000"
      Anthropic-Ratelimit-Requests-Remaining:
      - "3999"
      Anthropic-Ratelimit-Requests-Reset:
      - "2025-08-29T14:31:27Z"
      Anthropic-Ratelimit-Tokens-Limit:
      - "2400000"
      Anthropic-Ratelimit-Tokens-Remaining:
      - "2400000"
      Anthropic-Ratelimit-Tokens-Reset:
      - "2025-08-29T14:31:30Z"
      Cf-Cache-Status:
      - DYNAMIC
      Cf-Ray:
      - 976cc08ebbbba2f4-YUL
      Content-Type:
      - application/json
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Via:
      - 1.1 google
      X-Envoy-Upstream-Service-Time:
      - "11909"
      X-Robots-Tag:
      - none
    status: 200 OK
    code: 200
    duration: 11.995s
